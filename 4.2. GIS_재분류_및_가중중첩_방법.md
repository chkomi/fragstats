# 4.2. GIS 재분류 및 가중 중첩 상세 방법

사용자님의 질문은 GIS 분석의 핵심적인 실행 단계를 정확히 짚어주셨습니다. 원본 GIS 데이터의 값(예: 1, 9)을 우리가 계산한 '종합 점수'로 변환하는 방법과, 이를 통해 최종 '종합 농업가치 지도'를 만드는 구체적인 방법을 설명해 드리겠습니다.

이 과정은 모든 GIS 소프트웨어(ArcGIS, QGIS 등)에 포함된 **재분류(Reclassify)**와 **래스터 계산기(Raster Calculator)** 또는 **가중 합(Weighted Sum)** 기능을 통해 수행할 수 있습니다.

---

### 전제 조건

-   **원본 데이터:** `infra`, `nongeup`, `toyang`, `pibok` 각각에 대한 GIS 래스터(Raster) 데이터가 준비되어 있어야 합니다.
-   **데이터 값:** 각 래스터의 픽셀 값은 해당 클래스를 나타내는 정수 값(예: `cls_1`은 1, `cls_9`는 9)을 가지고 있다고 가정합니다. (`infra`의 경우 `giban_benefited`가 1, `giban_not_benefited`가 9라고 가정)

---

### 1단계: '가치 지도' 생성을 위한 재분류(Reclassification)

각 레이어별로, 원본 데이터의 클래스 값(1, 9)을 우리가 계산한 '종합 점수'로 매핑하는 **재분류** 과정을 8번 수행하여 총 8개의 새로운 '가치 지도'를 생성합니다.

#### **나주(Naju) 지역 예시**

**1. `naju_nongeup` 가치 지도 생성**

*   **입력 래스터:** `naju_nongeup` 원본 래스터
*   **사용 도구:** 재분류(Reclassify)
*   **재분류 규칙 (매핑 테이블):**

| 입력 값 (Old Value) | 출력 값 (New Value) |
| :--- | :--- |
| 1 | **74.08** |
| 9 | **0** |

*   **출력 래스터:** `naju_nongeup_value_map.tif`
*   **설명:** 위 규칙을 적용하면, 원본 지도에서 값이 1이었던 모든 픽셀은 74.08이라는 새로운 값을 갖게 되고, 9였던 픽셀은 0이 됩니다.

**2. `naju_toyang`, `naju_infra`, `naju_pibok` 가치 지도 생성**

위와 동일한 방법으로, 각 레이어에 해당하는 점수를 사용하여 나머지 3개의 가치 지도를 생성합니다.

*   **`naju_toyang_value_map`:** (입력 값 1 → **56.53**, 입력 값 9 → **0**)
*   **`naju_infra_value_map`:** (입력 값 1 → **38.81**, 입력 값 9 → **0**)
*   **`naju_pibok_value_map`:** (입력 값 1 → **23.54**, 입력 값 9 → **0**)

#### **화순(Hwasun) 지역 예시**

화순 지역도 나주와 동일한 과정을 거치되, 화순의 점수를 적용합니다.

*   **`hwasun_nongeup_value_map`:** (입력 값 1 → **62.41**, 입력 값 9 → **0**)
*   **`hwasun_toyang_value_map`:** (입력 값 1 → **59.32**, 입력 값 9 → **0**)
*   ... (이하 동일)

**▶ 1단계 결과:** 총 8개의 '가치 지도' 래스터 파일이 생성됩니다. 각 지도는 해당 레이어의 관점에서의 농업적 가치를 공간적으로 표현합니다.

---

### 2단계: 가중 합(Weighted Sum)을 통한 '종합 농업가치 지도' 생성

이제 8개의 가치 지도와 `4.1`에서 계산한 **지역별 레이어 가중치**를 사용하여 최종 지도를 만듭니다. 이 과정은 **래스터 계산기(Raster Calculator)** 도구를 사용합니다.

#### **나주(Naju) 지역 최종 지도 생성**

*   **입력 래스터:** `naju_nongeup_value_map`, `naju_toyang_value_map`, `naju_infra_value_map`, `naju_pibok_value_map`
*   **가중치 (from `4.1`):**
    *   Nongeup: **0.384**
    *   Toyang: **0.293**
    *   Infra: **0.201**
    *   Pibok: **0.122**
*   **래스터 계산기 공식:**
    ```
    ("naju_nongeup_value_map" * 0.384) + ("naju_toyang_value_map" * 0.293) + ("naju_infra_value_map" * 0.201) + ("naju_pibok_value_map" * 0.122)
    ```
*   **출력 래스터:** `FINAL_VALUE_MAP_NAJU.tif`

#### **화순(Hwasun) 지역 최종 지도 생성**

*   **입력 래스터:** `hwasun_nongeup_value_map` 등 4개
*   **가중치 (from `4.1`):**
    *   Nongeup: **0.321**
    *   Toyang: **0.305**
    *   Infra: **0.230**
    *   Pibok: **0.144**
*   **래스터 계산기 공식:**
    ```
    ("hwasun_nongeup_value_map" * 0.321) + ("hwasun_toyang_value_map" * 0.305) + ...
    ```
*   **출력 래스터:** `FINAL_VALUE_MAP_HWASUN.tif`

---

### 최종 결과

위 2단계를 모두 거치면, 각 지역(나주, 화순)에 대한 **'종합 농업가치 지도'**가 최종적으로 완성됩니다. 이 지도의 각 픽셀은 0점에서 70점대 사이의 연속적인 값을 가지며, 이는 4개 레이어와 58개 지표의 특성이 모두 종합적으로 고려된 객관적인 농업적 가치입니다.

이 최종 지도를 가지고 `4. 향후_분석_방향_및_정책_수립_방안.md`에서 제안한 2단계(현행 진흥지역과 중첩 분석)를 진행하시면 됩니다.
